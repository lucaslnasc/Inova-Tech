# ==============================================================
# INOVATECH EVENTOS - CONFIGURAÇÕES DA APLICAÇÃO
# ==============================================================

# Nome da aplicação Spring Boot
spring.application.name=inovatech-eventos

# ==============================================================
# CONFIGURAÇÃO DO BANCO DE DADOS - SUPABASE (CONEXÃO PADRÃO)
# ==============================================================
# Conexão via Pooler Supabase (porta 6543) - mais estável
spring.datasource.url=jdbc:postgresql://aws-1-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres.womxpsjipxkkcennbmdr
spring.datasource.password=Inova@1501!

# Pool conservador para evitar estouro de conexões
spring.datasource.hikari.maximum-pool-size=2
spring.datasource.hikari.minimum-idle=0
spring.datasource.hikari.connection-timeout=15000
spring.datasource.hikari.idle-timeout=60000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.auto-commit=true

# Console H2 desabilitado
spring.h2.console.enabled=false

# ==============================================================
# JPA/HIBERNATE - CONFIGURAÇÕES DE PERSISTÊNCIA
# ==============================================================
# Estratégia de atualização do schema (não dropar tabelas em produção)
spring.jpa.hibernate.ddl-auto=update

# Habilitar logs SQL para desenvolvimento
spring.jpa.show-sql=true

# Dialeto para PostgreSQL (opcional; o Hibernate detecta automaticamente)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Formatar SQL para melhor legibilidade
spring.jpa.properties.hibernate.format_sql=true

# Configurações específicas para PostgreSQL
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Desabilitar prepared statements cacheados (evita erro "prepared statement already exists")
spring.jpa.properties.hibernate.jdbc.use_get_generated_keys=false
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false

# ==============================================================
# JWT SECURITY - AUTENTICAÇÃO E AUTORIZAÇÃO
# ==============================================================
# Chave secreta para assinar e verificar tokens JWT
security.token.secret=INOVATECH2024SECRETKEY

# Tempo de expiração do token em millisegundos (3600000 = 1 hora)
security.token.expiration=3600000